<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Budalang'i Constituency 2027 MP Preference Poll</title>
    <style>
        :root {
            --primary-color: #006837; /* Kenya green */
            --secondary-color: #BB1919; /* Kenya red */
            --accent-color: #000000; /* Kenya black */
            --light-bg: #F5F5F5;
            --card-bg: #FFFFFF;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--light-bg);
            color: #333;
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .designer-credit {
            text-align: center;
            font-size: 14px;
            color: #666;
            margin-bottom: 10px;
            font-style: italic;
        }
        
        .header {
            background: linear-gradient(135deg, var(--primary-color), var(--accent-color));
            color: white;
            padding: 25px 0;
            text-align: center;
            border-radius: 8px 8px 0 0;
            margin-bottom: 0;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .header h1 {
            margin: 0;
            font-size: 28px;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }
        
        .header h2 {
            margin: 10px 0 0;
            font-size: 20px;
            font-weight: normal;
            opacity: 0.9;
        }
        
        .poll-container {
            background-color: var(--card-bg);
            padding: 30px;
            border-radius: 0 0 8px 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .poll-container::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 8px;
            height: 100%;
            background: linear-gradient(to bottom, var(--primary-color), var(--secondary-color));
        }
        
        .poll-question {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 25px;
            color: var(--primary-color);
            text-align: center;
            padding-bottom: 15px;
            border-bottom: 1px solid #EEE;
        }
        
        .poll-options {
            margin-bottom: 20px;
        }
        
        .poll-option {
            margin: 15px 0;
            padding: 15px;
            background-color: #F9F9F9;
            border-left: 4px solid var(--primary-color);
            border-radius: 4px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            position: relative;
        }
        
        .poll-option:hover {
            background-color: #F0F7F0;
            transform: translateX(5px);
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .poll-option input {
            margin-right: 15px;
            transform: scale(1.3);
        }
        
        .party-info {
            display: flex;
            align-items: center;
            flex-grow: 1;
        }
        
        .party-logo {
            width: 40px;
            height: 40px;
            margin-right: 15px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid #EEE;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        
        .candidate-name {
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .party-name {
            font-size: 14px;
            color: #666;
        }
        
        .candidate-title {
            font-size: 13px;
            color: #888;
            font-style: italic;
        }
        
        .poll-button {
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            padding: 14px 25px;
            font-size: 18px;
            font-weight: 600;
            margin: 25px auto;
            cursor: pointer;
            border-radius: 50px;
            display: block;
            width: 80%;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .poll-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            opacity: 0.9;
        }
        
        .poll-button:disabled {
            background: #CCC;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .poll-results {
            margin-top: 30px;
            display: none;
            background-color: #F9F9F9;
            padding: 25px;
            border-radius: 8px;
            border: 1px solid #EEE;
        }
        
        .results-header {
            text-align: center;
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 600;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .results-header i {
            margin-right: 10px;
            font-size: 24px;
        }
        
        .result-item {
            margin-bottom: 15px;
        }
        
        .result-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 15px;
        }
        
        .result-name {
            font-weight: 600;
            display: flex;
            align-items: center;
        }
        
        .result-value {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .result-bar-container {
            height: 20px;
            background-color: #E0E0E0;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 15px;
        }
        
        .result-bar {
            height: 100%;
            background: linear-gradient(to right, var(--primary-color), var(--secondary-color));
            border-radius: 10px;
            transition: width 1s ease-out;
        }
        
        .total-votes {
            text-align: center;
            margin-top: 25px;
            font-weight: bold;
            font-size: 18px;
            color: var(--accent-color);
            padding-top: 15px;
            border-top: 1px dashed #CCC;
        }
        
        .disclaimer {
            font-size: 13px;
            color: #666;
            margin-top: 30px;
            text-align: center;
            line-height: 1.5;
            padding: 15px;
            background-color: #FFF9F9;
            border-radius: 8px;
            border-left: 4px solid var(--secondary-color);
        }
        
        .timestamp {
            text-align: center;
            font-size: 12px;
            color: #999;
            margin-top: 15px;
        }
        
        .reset-button {
            background: linear-gradient(to right, #BB1919, #8B0000);
            color: white;
            border: none;
            padding: 12px 20px;
            font-size: 16px;
            font-weight: 600;
            margin: 15px auto;
            cursor: pointer;
            border-radius: 50px;
            display: block;
            width: 60%;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .reset-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.15);
            opacity: 0.9;
        }
        
        @media (max-width: 600px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 22px;
            }
            
            .header h2 {
                font-size: 16px;
            }
            
            .poll-container {
                padding: 20px 15px;
            }
            
            .poll-question {
                font-size: 18px;
            }
            
            .poll-option {
                padding: 12px;
            }
            
            .poll-button {
                width: 100%;
                padding: 12px;
                font-size: 16px;
            }
            
            .reset-button {
                width: 80%;
                padding: 10px;
                font-size: 14px;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="container">
        <div class="designer-credit">Designed by Hamisi Yusuf</div>
        
        <div class="header">
            <h1>BUDALANG'I CONSTITUENCY</h1>
            <h2>2027 Member of Parliament Preference Poll</h2>
        </div>
        
        <div class="poll-container">
            <div class="poll-question">
                <i class="fas fa-vote-yea"></i> If elections were held today, who would you vote for as MP?
            </div>
            
            <div class="poll-options">
                <div class="poll-option" onclick="selectOption(1)">
                    <input type="radio" name="pollOption" id="option1">
                    <div class="party-info">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Orange_Democratic_Movement_-_Logo.svg/1200px-Orange_Democratic_Movement_-_Logo.svg.png" class="party-logo" alt="ODM">
                        <div>
                            <div class="candidate-name">Hon. James Mabere Magio</div>
                            <div class="party-name">Orange Democratic Movement (ODM)</div>
                            <div class="candidate-title">Incumbent MP • Development Champion</div>
                        </div>
                    </div>
                </div>
                
                <div class="poll-option" onclick="selectOption(2)">
                    <input type="radio" name="pollOption" id="option2">
                    <div class="party-info">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/United_Democratic_Alliance_Logo.svg/1200px-United_Democratic_Alliance_Logo.svg.png" class="party-logo" alt="UDA">
                        <div>
                            <div class="candidate-name">Hon. Casper Ajuma</div>
                            <div class="party-name">United Democratic Alliance (UDA)</div>
                            <div class="candidate-title">Business Leader • Education Reformer</div>
                        </div>
                    </div>
                </div>
                
                <div class="poll-option" onclick="selectOption(3)">
                    <input type="radio" name="pollOption" id="option3">
                    <div class="party-info">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Wiper_Democratic_Movement_-_Kenya_logo.svg/1200px-Wiper_Democratic_Movement_-_Kenya_logo.svg.png" class="party-logo" alt="Wiper">
                        <div>
                            <div class="candidate-name">Hon. Peter Bwire Osogo</div>
                            <div class="party-name">Wiper Democratic Movement</div>
                            <div class="candidate-title">Youth Advocate • Policy Expert</div>
                        </div>
                    </div>
                </div>
                
                <div class="poll-option" onclick="selectOption(4)">
                    <input type="radio" name="pollOption" id="option4">
                    <div class="party-info">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Amani_National_Congress_logo.svg/1200px-Amani_National_Congress_logo.svg.png" class="party-logo" alt="ANC">
                        <div>
                            <div class="candidate-name">Hon. Sammy Ogama Imbako</div>
                            <div class="party-name">Amani National Congress (ANC)</div>
                            <div class="candidate-title">Community Leader • Anti-Corruption</div>
                        </div>
                    </div>
                </div>
                
                <div class="poll-option" onclick="selectOption(5)">
                    <input type="radio" name="pollOption" id="option5">
                    <div class="party-info">
                        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Independent_politician.svg/1200px-Independent_politician.svg.png" class="party-logo" alt="Independent">
                        <div>
                            <div class="candidate-name">Dr. Grace Atieno</div>
                            <div class="party-name">Independent Candidate</div>
                            <div class="candidate-title">Healthcare Advocate • Women's Rights</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <button class="poll-button" id="voteButton" onclick="submitVote()">
                <i class="fas fa-paper-plane"></i> SUBMIT YOUR VOTE
            </button>
            
            <button class="reset-button" id="resetButton" onclick="resetPoll()" style="display: none;">
                <i class="fas fa-redo"></i> RESET POLL
            </button>
            
            <div class="poll-results" id="pollResults">
                <div class="results-header">
                    <i class="fas fa-chart-bar"></i> CURRENT POLL RESULTS
                </div>
                
                <div class="result-item">
                    <div class="result-label">
                        <span class="result-name">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/b/b5/Orange_Democratic_Movement_-_Logo.svg/1200px-Orange_Democratic_Movement_-_Logo.svg.png" style="width:20px;height:20px;border-radius:50%;margin-right:8px;" alt="ODM">
                            Hon. James Mabere Magio
                        </span>
                        <span class="result-value" id="result1">0% (0 votes)</span>
                    </div>
                    <div class="result-bar-container">
                        <div class="result-bar" id="bar1" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="result-item">
                    <div class="result-label">
                        <span class="result-name">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5f/United_Democratic_Alliance_Logo.svg/1200px-United_Democratic_Alliance_Logo.svg.png" style="width:20px;height:20px;border-radius:50%;margin-right:8px;" alt="UDA">
                            Hon. Casper Ajuma
                        </span>
                        <span class="result-value" id="result2">0% (0 votes)</span>
                    </div>
                    <div class="result-bar-container">
                        <div class="result-bar" id="bar2" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="result-item">
                    <div class="result-label">
                        <span class="result-name">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Wiper_Democratic_Movement_-_Kenya_logo.svg/1200px-Wiper_Democratic_Movement_-_Kenya_logo.svg.png" style="width:20px;height:20px;border-radius:50%;margin-right:8px;" alt="Wiper">
                            Hon. Peter Bwire Osogo
                        </span>
                        <span class="result-value" id="result3">0% (0 votes)</span>
                    </div>
                    <div class="result-bar-container">
                        <div class="result-bar" id="bar3" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="result-item">
                    <div class="result-label">
                        <span class="result-name">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Amani_National_Congress_logo.svg/1200px-Amani_National_Congress_logo.svg.png" style="width:20px;height:20px;border-radius:50%;margin-right:8px;" alt="ANC">
                            Hon. Sammy Ogama Imbako
                        </span>
                        <span class="result-value" id="result4">0% (0 votes)</span>
                    </div>
                    <div class="result-bar-container">
                        <div class="result-bar" id="bar4" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="result-item">
                    <div class="result-label">
                        <span class="result-name">
                            <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Independent_politician.svg/1200px-Independent_politician.svg.png" style="width:20px;height:20px;border-radius:50%;margin-right:8px;" alt="IND">
                            Dr. Grace Atieno
                        </span>
                        <span class="result-value" id="result5">0% (0 votes)</span>
                    </div>
                    <div class="result-bar-container">
                        <div class="result-bar" id="bar5" style="width: 0%"></div>
                    </div>
                </div>
                
                <div class="total-votes">
                    <i class="fas fa-users"></i> TOTAL VOTES CAST: <span id="totalVotes">0</span>
                </div>
            </div>
            
            <div class="disclaimer">
                <p><strong>Disclaimer:</strong> This is an unofficial, non-scientific poll for informational purposes only. Results do not represent actual voting intentions and should not be used to predict election outcomes. This poll is not affiliated with any political party or the Independent Electoral and Boundaries Commission (IEBC).</p>
                <p>Data is stored locally in your browser and will reset if you clear your cache. Each device can only vote once.</p>
            </div>
            
            <div class="timestamp" id="timestamp"></div>
        </div>
    </div>

    <script>
        // Voting data for Budalang'i candidates
        let votes = {
            option1: 0,  // ODM - James Mabere Magio
            option2: 0,  // UDA - Casper Ajuma
            option3: 0,  // Wiper - Peter Bwire Osogo
            option4: 0,  // ANC - Sammy Ogama Imbako
            option5: 0   // Independent - Grace Atieno
        };
        
        // Check if user has already voted
        const hasVoted = localStorage.getItem('budalangi2027HasVoted');
        
        // Check if there's saved data in localStorage
        if(localStorage.getItem('budalangiPoll2027')) {
            votes = JSON.parse(localStorage.getItem('budalangiPoll2027'));
            showResults();
            
            if(hasVoted) {
                disableVoting();
            }
        }
        
        // Set current timestamp
        document.getElementById('timestamp').textContent = `Last updated: ${new Date().toLocaleString()}`;
        
        function selectOption(optionNum) {
            if(hasVoted) return;
            
            // Uncheck all options
            for(let i = 1; i <= 5; i++) {
                document.getElementById('option' + i).checked = false;
            }
            
            // Check the selected option
            document.getElementById('option' + optionNum).checked = true;
        }
        
        function submitVote() {
            if(hasVoted) {
                alert('You have already voted in this poll. Thank you for participating!');
                return;
            }
            
            let selectedOption = null;
            
            // Check which option is selected
            for(let i = 1; i <= 5; i++) {
                if(document.getElementById('option' + i).checked) {
                    selectedOption = 'option' + i;
                    break;
                }
            }
            
            if (!selectedOption) {
                alert('Please select a candidate before submitting your vote!');
                return;
            }
            
            // Record the vote
            votes[selectedOption]++;
            
            // Save to localStorage
            localStorage.setItem('budalangiPoll2027', JSON.stringify(votes));
            localStorage.setItem('budalangi2027HasVoted', 'true');
            
            // Show results
            showResults();
            
            // Disable voting
            disableVoting();
            
            // Thank the voter
            alert('Thank you for participating in the Budalang\'i 2027 MP preference poll! Your voice matters.');
        }
        
        function showResults() {
            // Calculate total votes
            const total = votes.option1 + votes.option2 + votes.option3 + votes.option4 + votes.option5;
            
            // Calculate percentages
            const percent1 = total > 0 ? Math.round((votes.option1 / total) * 100) : 0;
            const percent2 = total > 0 ? Math.round((votes.option2 / total) * 100) : 0;
            const percent3 = total > 0 ? Math.round((votes.option3 / total) * 100) : 0;
            const percent4 = total > 0 ? Math.round((votes.option4 / total) * 100) : 0;
            const percent5 = total > 0 ? Math.round((votes.option5 / total) * 100) : 0;
            
            // Update result display
            document.getElementById('result1').textContent = `${percent1}% (${votes.option1} votes)`;
            document.getElementById('result2').textContent = `${percent2}% (${votes.option2} votes)`;
            document.getElementById('result3').textContent = `${percent3}% (${votes.option3} votes)`;
            document.getElementById('result4').textContent = `${percent4}% (${votes.option4} votes)`;
            document.getElementById('result5').textContent = `${percent5}% (${votes.option5} votes)`;
            
            document.getElementById('bar1').style.width = `${percent1}%`;
            document.getElementById('bar2').style.width = `${percent2}%`;
            document.getElementById('bar3').style.width = `${percent3}%`;
            document.getElementById('bar4').style.width = `${percent4}%`;
            document.getElementById('bar5').style.width = `${percent5}%`;
            
            document.getElementById('totalVotes').textContent = total;
            
            // Show results section
            document.getElementById('pollResults').style.display = 'block';
            
            // Update timestamp
            document.getElementById('timestamp').textContent = `Last updated: ${new Date().toLocaleString()}`;
        }
        
        function disableVoting() {
            // Disable all options
            for(let i = 1; i <= 5; i++) {
                document.getElementById('option' + i).disabled = true;
            }
            
            // Disable button
            document.getElementById('voteButton').disabled = true;
            document.getElementById('voteButton').innerHTML = '<i class="fas fa-check"></i> THANK YOU FOR VOTING';
            
            // Show reset button
            document.getElementById('resetButton').style.display = 'block';
            
            // Change option styles
            const options = document.querySelectorAll('.poll-option');
            options.forEach(option => {
                option.style.cursor = 'default';
                option.style.opacity = '0.7';
                option.onclick = null;
            });
        }
        
        function resetPoll() {
            if(confirm("Are you sure you want to reset all poll data? This cannot be undone.")) {
                // Reset vote counts
                votes = {
                    option1: 0,
                    option2: 0,
                    option3: 0,
                    option4: 0,
                    option5: 0
                };
                
                // Clear localStorage
                localStorage.removeItem('budalangiPoll2027');
                localStorage.removeItem('budalangi2027HasVoted');
                
                // Reset UI
                for(let i = 1; i <= 5; i++) {
                    document.getElementById('option' + i).checked = false;
                    document.getElementById('option' + i).disabled = false;
                    document.getElementById('bar' + i).style.width = '0%';
                    document.getElementById('result' + i).textContent = '0% (0 votes)';
                }
                
                document.getElementById('totalVotes').textContent = '0';
                document.getElementById('pollResults').style.display = 'none';
                document.getElementById('voteButton').disabled = false;
                document.getElementById('voteButton').innerHTML = '<i class="fas fa-paper-plane"></i> SUBMIT YOUR VOTE';
                document.getElementById('resetButton').style.display = 'none';
                
                // Re-enable voting options
                const options = document.querySelectorAll('.poll-option');
                options.forEach(option => {
                    option.style.cursor = 'pointer';
                    option.style.opacity = '1';
                    option.onclick = function() {
                        selectOption(option.id.replace('option', ''));
                    };
                });
                
                alert('Poll has been reset successfully!');
            }
        }
    </script>
</body>
</html>